(function(e){function t(t){for(var s,a,r=t[0],c=t[1],l=t[2],d=0,h=[];d<r.length;d++)a=r[d],i[a]&&h.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(h.length)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},i={app:0},o=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2856:function(e,t,n){},4256:function(e,t,n){"use strict";var s=n("d988"),i=n.n(s);i.a},"47fe":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),i=n("0086"),o=n.n(i),a=n("498a"),r=n("9ae9"),c=n("cbd0"),l=n("1073"),u=n("b1fc"),d=n("3d31"),h=n("44d4"),f=n("7049"),m=n("8b3d"),p=n("dbbe"),g=n("f7ca"),v=n("f9bc"),b=(n("ab8b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"title"}},[n("h1",[e._v(" simple flowchart")]),n("button",{on:{click:function(t){e.isPanelShow=!e.isPanelShow}}},[e._v(e._s(e.isPanelShow?"Hide Panel":"Show Panel"))]),e.isPanelShow?n("button",{on:{click:function(t){e.isRawScene=!e.isRawScene}}},[e._v(e._s(e.isRawScene?"Show Pretty":"Show Raw"))]):e._e(),e.isPanelShow?n("div",{staticClass:"panel-area"},[n("div",{staticClass:"extraction-panel",domProps:{innerHTML:e._s(e.isRawScene?e.rawScene:e.prettyScene)}})]):e._e()]),n("svg",{attrs:{width:"100%",height:"10vh"}},e._l(e.stages,function(t,s){return n("a",{key:s,attrs:{href:"#"},on:{click:function(t){e.newStageType=s,e.$bvModal.show("createModal")}}},[n("rect",{staticStyle:{stroke:"black","stroke-width":"2","fill-opacity":"0","stroke-opacity":"0.6"},attrs:{x:20+90*s,y:"10",width:"80",height:"50","stroke-dasharray":"5, 5"}}),n("text",{attrs:{x:30+90*s,y:"40",textLength:"60",lengthAdjust:"spacing"}},[e._v("\n        "+e._s(t)+"\n      ")])])}),0),n("div",{staticClass:"flowchart"},[n("b-row",{attrs:{"align-h":"end"}},[n("b-col",{attrs:{sm:"1"}},[n("label",[e._v("Scale:")])]),n("b-col",{attrs:{sm:"3"}},[n("b-form-input",{attrs:{type:"range",min:"0",max:"1",step:"0.1"},model:{value:e.scene.scale,callback:function(t){e.$set(e.scene,"scale",t)},expression:"scene.scale"}})],1)],1),n("simple-flowchart",{attrs:{scene:e.scene,stages:e.stages,stageWidth:e.stageWidth,height:1200},on:{"update:scene":function(t){e.scene=t},nodeClick:e.nodeClick,nodeDelete:e.nodeDelete,linkBreak:e.linkBreak,linkAdded:e.linkAdded,canvasClick:e.canvasClick}})],1),n("b-modal",{ref:"createModal",staticClass:"modal-backdrop fade",attrs:{id:"createModal",title:"New Node","hide-footer":"","hide-backdrop":""}},[n("b-form",{staticClass:"w-100",on:{submit:e.onCreateFormSubmit,reset:e.onCreateFormReset}},[n("b-form-select",{staticClass:"mb-3",attrs:{required:""},model:{value:e.newNodeType,callback:function(t){e.newNodeType=t},expression:"newNodeType"}},[n("b-form-select-option",{attrs:{value:null,disabled:""}},[e._v("Please select a node type")]),e._l(e.nodeCategory,function(t,s){return t.stage===parseInt(e.newStageType)?n("b-form-select-option",{key:"category-"+s,attrs:{value:s}},[e._v("\n          "+e._s(t.name)+"\n        ")]):e._e()})],2),n("b-form-input",{attrs:{placeholder:"Enter node label"},model:{value:e.newNodeLabel,callback:function(t){e.newNodeLabel=t},expression:"newNodeLabel"}}),n("br"),n("b-button-group",[n("b-button",{attrs:{type:"submit",variant:"primary"}},[n("b",[e._v("Submit")])]),e._v("\n         \n        "),n("b-button",{attrs:{type:"reset",variant:"danger"}},[n("b",[e._v("Cancel")])])],1)],1)],1)],1)}),y=[],w=(n("7f7f"),n("8afe")),k=(n("a481"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flowchart",attrs:{id:"flowchart"}},[n("div",{directives:[{name:"touch",rawName:"v-touch:moving",value:e.handleMove,expression:"handleMove",arg:"moving"},{name:"touch",rawName:"v-touch:end",value:e.handleUp,expression:"handleUp",arg:"end"},{name:"touch",rawName:"v-touch:start",value:e.handleDown,expression:"handleDown",arg:"start"}],staticClass:"flowchart-container"},[e._l(e.scene.nodes,function(t,s){return n("flowchart-node",e._b({key:"node"+s,attrs:{options:e.nodeOptions},on:{linkingStart:function(n){return e.linkingStart(t.id,n)},linkingStop:function(n){return e.linkingStop(t.id)},nodeSelected:function(n){return e.nodeSelected(t.id,n)}}},"flowchart-node",t,!1,!0))}),n("svg",{attrs:{width:"100%",height:e.height+"px"}},[e._l(e.lines(),function(t,s){return n("flowchart-link",e._b({key:"link"+s,on:{deleteLink:function(n){return e.linkDelete(t.id)}}},"flowchart-link",t,!1,!0))}),e._l(e.stages,function(t,s){return n("line",{key:"line-"+s,staticStyle:{stroke:"rgb(100, 100, 100)","stroke-width":"2"},attrs:{x1:(e.scene.centerX+s*e.stageWidth)*e.scene.scale,y1:"0",x2:(e.scene.centerX+s*e.stageWidth)*e.scene.scale,y2:"100vh","stroke-dasharray":"5, 5"}})}),e._l(e.stages,function(t,s){return n("text",{key:"text-"+s,staticStyle:{"font-size":"24px"},attrs:{x:(e.scene.centerX+s*e.stageWidth+50)*e.scene.scale,y:"50",textLength:"100",lengthAdjust:"spacing"}},[e._v("\n        "+e._s(t)+"\n        ")])})],2)],2)])])}),x=[],_=(n("f751"),n("c93e")),S=(n("6762"),n("2fdb"),n("20d6"),n("7514"),n("9393")),N=(n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{on:{mouseover:e.handleMouseOver,mouseleave:e.handleMouseLeave}},[n("path",{style:e.pathStyle,attrs:{d:e.dAttr}}),e.show.delete?n("a",{on:{click:e.deleteLink}},[n("text",{attrs:{"text-anchor":"middle",transform:e.arrowTransform,"font-size":"22"}},[e._v("×")])]):n("path",{style:e.arrowStyle,attrs:{d:"M -1 -1 L 0 1 L 1 -1 z",transform:e.arrowTransform}})])}),L=[],C={name:"FlowchartLink",props:{start:{type:Array,default:function(){return[0,0]}},end:{type:Array,default:function(){return[0,0]}},id:Number},data:function(){return{show:{delete:!1}}},methods:{handleMouseOver:function(){this.id&&(this.show.delete=!0)},handleMouseLeave:function(){this.show.delete=!1},caculateCenterPoint:function(){var e=(this.end[0]-this.start[0])/2,t=(this.end[1]-this.start[1])/2;return[this.start[0]+e,this.start[1]+t]},caculateRotation:function(){var e=this.end[0]-this.start[0]-50,t=this.end[1]-this.start[1],n=-Math.atan2(e,t),s=180*n/Math.PI;return s<0?s+360:s},deleteLink:function(){this.$emit("deleteLink")}},computed:{pathStyle:function(){return{stroke:"#8492a6",strokeWidth:2.73205,fill:"none"}},arrowStyle:function(){return{stroke:"#8492a6",strokeWidth:5.73205,fill:"none"}},arrowTransform:function(){var e=this.caculateCenterPoint(),t=Object(S["a"])(e,2),n=t[0],s=t[1],i=this.caculateRotation();return"translate(".concat(n,", ").concat(s,") rotate(").concat(i,")")},dAttr:function(){var e=this.start[0],t=this.start[1],n=this.end[0],s=this.end[1],i=e+50,o=t,a=n-50,r=s;return"M ".concat(e,", ").concat(t," C ").concat(i,", ").concat(o,", ").concat(a,", ").concat(r,", ").concat(n,", ").concat(s)}}},M=C,O=(n("c3db"),n("2877")),E=Object(O["a"])(M,N,L,!1,null,"e3bb517e",null);E.options.__file="FlowchartLink.vue";var X=E.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"touch",rawName:"v-touch:start",value:e.handleMousedown,expression:"handleMousedown",arg:"start"},{name:"touch",rawName:"v-touch:longtap",value:e.handleMouseDouble,expression:"handleMouseDouble",arg:"longtap"}],staticClass:"flowchart-node",class:{selected:e.options.selected===e.id},style:e.nodeStyle,on:{dblclick:e.handleMouseDouble,mousedown:e.handleMousedown,mouseover:e.handleMouseOver,mouseleave:e.handleMouseLeave}},[n("div",{staticClass:"node-port node-input",class:{"node-port-tag":e.isError||e.isWarning||e.isSuccess},on:{mouseup:e.inputMouseUp,mousedown:e.inputMouseDown}}),n("div",{staticClass:"node-main",attrs:{id:"node-main_"+e.id}},[e.isError?n("div",{staticClass:"node-error",attrs:{id:"node-main_"+e.id}},[n("span",[e._v("Error")])]):e.isWarning?n("div",{staticClass:"node-warning",attrs:{id:"node-main_"+e.id}},[n("span",[e._v("Warning")])]):e.isSuccess?n("div",{staticClass:"node-success",attrs:{id:"node-main_"+e.id}},[n("span",[e._v("Success")])]):e._e(),n("div",{ref:"nodeType",staticClass:"node-type",attrs:{id:"node-type_"+e.id},domProps:{textContent:e._s(e.type)}}),n("div",{staticClass:"node-label",attrs:{id:"label_"+e.id}},[n("div",{ref:"labelTitle",staticClass:"node-label-title",attrs:{id:"label-title_"+e.id},domProps:{textContent:e._s(e.label)}}),e.buttons.length>0?n("div",{staticClass:"node-buttons",attrs:{id:"node-buttons_"+e.id}},e._l(e.buttons,function(t,s){return n("div",{key:s,staticClass:"node-label-button",attrs:{id:"button_"+e.id+"_"+s}},[n("span",[e._v(e._s(t.text))]),n("div",{staticClass:"node-port node-output",style:e.buttonPortStyle(s),attrs:{id:"port_"+e.id+"_"+s},on:{mousedown:function(t){return e.outputMouseDown(s,t)}}})])}),0):e._e()])]),0===e.buttons.length?n("div",{staticClass:"node-port node-output",class:{"node-port-tag":e.isError||e.isWarning||e.isSuccess},attrs:{id:"node-output_"+e.id},on:{mousedown:function(t){return e.outputMouseDown(-1,t)}}}):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.delete,expression:"show.delete"}],staticClass:"node-delete"},[e._v("×")])])},Y=[],D={name:"FlowchartNode",props:{id:{type:Number,default:1e3,validator:function(e){return"number"===typeof e}},x:{type:Number,default:0,validator:function(e){return"number"===typeof e}},y:{type:Number,default:0,validator:function(e){return"number"===typeof e}},centeredX:{type:Number,default:0,validator:function(e){return"number"===typeof e}},centeredY:{type:Number,default:0,validator:function(e){return"number"===typeof e}},type:{type:String,default:"Default"},label:{type:String,default:"input name"},options:{type:Object,default:function(){return{centerX:1024,scale:1,centerY:140}}},isError:{type:Boolean,default:function(){return!1}},isWarning:{type:Boolean,default:function(){return!1}},isSuccess:{type:Boolean,default:function(){return!1}},buttons:{type:Array,default:function(){return[]}}},data:function(){return{show:{delete:!1},linkingStart:!1}},mounted:function(){},computed:{nodeStyle:function(){return{top:(this.centeredY||this.y)*this.options.scale+"px",left:(this.centeredX||this.x)*this.options.scale+"px",transform:"scale(".concat(this.options.scale,")")}}},methods:{buttonPortStyle:function(e){var t=this.$refs.nodeType;if(t){var n=this.$refs.labelTitle;if(n){for(var s=t.offsetHeight,i=n.offsetHeight,o=i+s,a=null,r=e;r>=0;r--)a=document.getElementById("button_"+this.id+"_"+r),a&&(o+=r===e?a.offsetHeight/1.75:a.offsetHeight);var c=0;if(this.isError){var l=document.getElementsByClassName("node-error")[0];c+=l.offsetHeight}if(this.isWarning){var u=document.getElementsByClassName("node-warning")[0];c+=u.offsetHeight}if(this.isSuccess){var d=document.getElementsByClassName("node-success")[0];c+=d.offsetHeight}return o+=c,{top:o+"px",right:"-8px",marginTop:"0px"}}}},handleMousedown:function(e){var t=e.target||e.srcElement;t.className.indexOf("node-input")<0&&t.className.indexOf("node-output")<0&&this.$emit("nodeSelected",e),e.type.includes("mouse")&&e.preventDefault()},handleMouseOver:function(){this.show.delete=!0},handleMouseLeave:function(){this.show.delete=!1},handleMouseDouble:function(){return null},outputMouseDown:function(e,t){t.buttonIndex=e,this.$emit("linkingStart",t),t.type.includes("mouse")&&t.preventDefault()},outputMouseMove:function(e){this.linkingStart&&this.$emit("linkingStart")},outputMouseMoveFromButtonNode:function(e,t){this.linkingStart&&this.$emit("linkingStart",e,t)},outputMouseUp:function(e){this.linkingStart=!1,e.type.includes("mouse")&&e.preventDefault()},inputMouseDown:function(e){e.type.includes("mouse")&&e.preventDefault()},inputMouseUp:function(e){this.$emit("linkingStop"),e.type.includes("mouse")&&e.preventDefault()}}},$=D,P=(n("4256"),Object(O["a"])($,T,Y,!1,null,"23327e6d",null));P.options.__file="FlowchartNode.vue";var j=P.exports;function W(e){var t=e.getBoundingClientRect(),n=window.pageYOffset,s=window.pageXOffset,i=t.top+n,o=t.left+s;return{top:Math.round(i),left:Math.round(o)}}function I(e,t){var n,s=null;t.type.includes("mouse")?(n=t.pageX||t.clientX+document.documentElement.scrollLeft,s=t.pageY||t.clientY+document.documentElement.scrollTop):(n=t.touches[0].pageX||t.touches[0].clientX+document.documentElement.scrollLeft,s=t.touches[0].pageY||t.touches[0].clientY+document.documentElement.scrollTop);var i=W(e),o=n-i.left,a=s-i.top;return[o,a]}var B={name:"VueFlowchart",props:{scene:{type:Object,default:function(){return{centerX:0,scale:1,centerY:0,nodes:[],links:[]}}},height:{type:Number,default:400},stageWidth:{type:Number,default:500},stages:{type:Object,default:function(){return{}}}},data:function(){return{action:{linking:!1,dragging:!1,scrolling:!1,selected:0},mouse:{x:0,y:0,lastX:0,lastY:0},draggingLink:null,rootDivOffset:{top:0,left:0},moving:!1,draggingNodeTop:0,draggingNodeLeft:0,actionType:"",window:{width:0,height:0}}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},components:{FlowchartLink:X,FlowchartNode:j},computed:{nodeOptions:function(){return{centerY:this.scene.centerY,centerX:this.scene.centerX,scale:this.scene.scale,offsetTop:this.rootDivOffset.top,offsetLeft:this.rootDivOffset.left,selected:this.action.selected}}},mounted:function(){this.rootDivOffset.top=this.$el?this.$el.offsetTop:0,this.rootDivOffset.left=this.$el?this.$el.offsetLeft:0},methods:{lines:function(){var e=this,t=this.scene.links.map(function(t){var n,s,i,o,a,r,c=e.findNodeWithID(t.from),l=e.findNodeWithID(t.to);n=c.centeredX||c.x,s=c.centeredY||c.y;var u=e.getPortPosition(c,"right",n,s,t.button),d=Object(S["a"])(u,2);o=d[0],i=d[1],n=l.centeredX||l.x,s=l.centeredY||l.y;var h=e.getPortPosition(l,"left",n,s),f=Object(S["a"])(h,2);return a=f[0],r=f[1],{start:[o,i],end:[a,r],id:t.id}});if(this.draggingLink){var n,s,i,o,a=this.findNodeWithID(this.draggingLink.from);n=a.centeredX||a.x,s=a.centeredY||a.y;var r=this.getPortPosition(a,"right",n,s,this.draggingLink.buttonIndex+1),c=Object(S["a"])(r,2);o=c[0],i=c[1],t.push({start:[o,i],end:[this.draggingLink.mx,this.draggingLink.my]})}return t},findNodeWithID:function(e){return this.scene.nodes.find(function(t){return e===t.id})},getPortPosition:function(e,t,n,s,i){var o=document.getElementById("node-main_"+e.id),a=0,r=0;o&&(a=o.offsetHeight,r=o.offsetWidth);var c=0;if(e.isError){var l=document.getElementsByClassName("node-error")[0];c+=l.offsetHeight}if(e.isWarning){var u=document.getElementsByClassName("node-warning")[0];c+=u.offsetHeight}if(e.isSuccess){var d=document.getElementsByClassName("node-success")[0];c+=d.offsetHeight}if("right"===t){var h=null;if(i&&-1!==i)h=e.buttons.findIndex(function(e){return e.id===i});else{if(-1!==i||!this.draggingLink||void 0===this.draggingLink.buttonIndex)return[(n+r)*this.scene.scale,(s+a/2+c/2)*this.scene.scale];h=this.draggingLink.buttonIndex}var f=document.getElementById("node-type_".concat(e.id));if(!f)return[0,0];var m=document.getElementById("label-title_".concat(e.id));if(!m)return[0,0];for(var p=f.offsetHeight,g=m.offsetHeight,v=g+p,b=null,y=h;y>=0;y--)b=document.getElementById("button_"+e.id+"_"+y),b&&(v+=y===h?b.offsetHeight/1.75:b.offsetHeight);return v+=c,[(n+r)*this.scene.scale,(s+v)*this.scene.scale]}if("left"===t)return[n*this.scene.scale,(s+a/2+c/2)*this.scene.scale]},linkingStart:function(e,t){this.action.linking=!0;var n,s=null;if(t.type.includes("mouse")){var i=I(this.$el,t),o=Object(S["a"])(i,2);n=o[0],s=o[1]}else{var a=I(this.$el,t),r=Object(S["a"])(a,2);n=r[0],s=r[1]}this.draggingLink={from:e,buttonIndex:t.buttonIndex,mx:n,my:s}},linkingStop:function(e){var t=this;if(this.draggingLink&&this.draggingLink.from!==e){var n=this.scene.links.find(function(n){return n.from===t.draggingLink.from&&n.to===e&&(!n.button||n.button===t.findNodeWithID(n.from).buttons[t.draggingLink.buttonIndex].id)});if(!n){var s=Math.max.apply(Math,[0].concat(Object(w["a"])(this.scene.links.map(function(e){return e.id})))),i=this.findNodeWithID(this.draggingLink.from),o=i.buttons&&i.buttons.length?i.buttons[this.draggingLink.buttonIndex].id:void 0,a={id:s+1,from:this.draggingLink.from,to:e,button:o};this.scene.links.push(a),this.$emit("linkAdded",a)}}this.draggingLink=null},linkDelete:function(e){var t=this.scene.links.find(function(t){return t.id===e});t&&(this.scene.links=this.scene.links.filter(function(t){return t.id!==e}),this.$emit("linkBreak",t))},nodeSelected:function(e,t){this.action.dragging=e,this.action.selected=e,this.$emit("nodeClick",e),t.type.includes("mouse")?(this.mouse.lastX=t.pageX||t.clientX+document.documentElement.scrollLeft,this.mouse.lastY=t.pageY||t.clientY+document.documentElement.scrollTop):(this.mouse.lastX=t.touches[0].pageX||t.touches[0].clientX+document.documentElement.scrollLeft,this.mouse.lastY=t.touches[0].pageY||t.touches[0].clientY+document.documentElement.scrollTop)},handleMove:function(e){if(this.action.linking){var t=I(this.$el,e),n=Object(S["a"])(t,2);this.mouse.x=n[0],this.mouse.y=n[1],e.type.includes("mouse")?(this.mouse.x=e.pageX||e.clientX+document.documentElement.scrollLeft,this.mouse.y=e.pageY||e.clientY+document.documentElement.scrollTop):(this.mouse.x=e.touches[0].pageX||e.touches[0].clientX+document.documentElement.scrollLeft,this.mouse.y=e.touches[0].pageY||e.touches[0].clientY+document.documentElement.scrollTop);var s=document.getElementById("app").scrollTop,i=document.getElementById("title").offsetHeight+22+75,o=[this.mouse.x,this.mouse.y-i+s];this.draggingLink.mx=o[0],this.draggingLink.my=o[1]}if(this.action.dragging){e.type.includes("mouse")?(this.mouse.x=e.pageX||e.clientX+document.documentElement.scrollLeft,this.mouse.y=e.pageY||e.clientY+document.documentElement.scrollTop):(this.mouse.x=e.touches[0].pageX||e.touches[0].clientX+document.documentElement.scrollLeft,this.mouse.y=e.touches[0].pageY||e.touches[0].clientY+document.documentElement.scrollTop);var a=this.mouse.x-this.mouse.lastX,r=this.mouse.y-this.mouse.lastY;this.mouse.lastX=this.mouse.x,this.mouse.lastY=this.mouse.y,this.moveSelectedNode(a,r)}if(this.action.scrolling){var c=I(this.$el,e),l=Object(S["a"])(c,2);this.mouse.x=l[0],this.mouse.y=l[1];var u=this.mouse.x-this.mouse.lastX,d=this.mouse.y-this.mouse.lastY;this.mouse.lastX=this.mouse.x,this.mouse.lastY=this.mouse.y,this.scene.centerX+=u,this.scene.centerY+=d,this.scene.nodes=this.scene.nodes.map(function(e){return Object(_["a"])({},e,{centeredX:e.centeredX+u,centeredY:e.centeredY+d,x:e.x+u,y:e.y+d})})}},handleUp:function(e){var t=e.target||e.srcElement;this.$el.contains(t)&&(("string"!==typeof t.className||t.className.indexOf("node-input")<0)&&(this.draggingLink=null),"string"===typeof t.className&&t.className.indexOf("node-delete")>-1&&this.nodeDelete(this.action.dragging)),this.action.linking=!1,this.action.dragging=null,this.action.scrolling=!1},handleDown:function(e){var t=e.target||e.srcElement;if(t===this.$el||t.matches("svg, svg *")){this.action.scrolling=!0;var n=I(this.$el,e),s=Object(S["a"])(n,2);this.mouse.lastX=s[0],this.mouse.lastY=s[1],this.action.selected=null}this.$emit("canvasClick",e)},moveSelectedNode:function(e,t){var n=this,s=this.scene.nodes.findIndex(function(e){return e.id===n.action.dragging}),i=(this.scene.nodes[s].centeredX||this.scene.nodes[s].x)+e/this.scene.scale,o=(this.scene.nodes[s].centeredY||this.scene.nodes[s].y)+t/this.scene.scale;i=Math.min(i,this.scene.centerX+(this.scene.nodes[s].stage+1)*this.stageWidth-200),i=Math.max(i,this.scene.centerX+this.scene.nodes[s].stage*this.stageWidth),this.$set(this.scene.nodes,s,Object.assign(this.scene.nodes[s],{x:i,y:o,centeredX:i,centeredY:o}))},nodeDelete:function(e){this.scene.nodes=this.scene.nodes.filter(function(t){return t.id!==e}),this.scene.links=this.scene.links.filter(function(t){return t.from!==e&&t.to!==e}),this.$emit("nodeDelete",e)},handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight}}},H=B,R=(n("7b86"),Object(O["a"])(H,k,x,!1,null,"d3bbbe00",null));R.options.__file="SimpleFlowchart.vue";var F=R.exports,A={name:"app",components:{SimpleFlowchart:F},data:function(){return{isRawScene:!1,isPanelShow:!1,scene:{centerX:50,centerY:0,scale:1,nodes:[],links:[]},newNodeType:null,newNodeLabel:"",nodeCategory:[{name:"nodeType1",stage:0},{name:"nodeType2",stage:0},{name:"nodeType3",stage:1,buttons:[{id:1,text:"Option 1"},{id:2,text:"Option 2"},{id:3,text:"Option 3"}]},{name:"nodeType4",stage:2},{name:"nodeType5",stage:3},{name:"nodeType6",stage:4},{name:"nodeType7",stage:5}],newStageType:null,stages:{0:"stage1",1:"stage2",2:"stage3",3:"stage4",4:"stage5",5:"stage6"},stageWidth:700}},computed:{prettyScene:function(){return JSON.stringify(this.scene,null,"\t").replace(/\n/gi,"<br />").replace(/\t/gi,"&nbsp;&nbsp;")},rawScene:function(){return JSON.stringify(this.scene)}},methods:{canvasClick:function(e){console.log("canvas Click, event:",e)},addNode:function(){var e=Math.max.apply(Math,[0].concat(Object(w["a"])(this.scene.nodes.map(function(e){return e.id}))));this.scene.nodes.push({id:e+1,x:this.scene.centerX+this.nodeCategory[this.newNodeType].stage*this.stageWidth,y:this.scene.centerY+50,type:this.nodeCategory[this.newNodeType].name,stage:this.nodeCategory[this.newNodeType].stage,label:this.newNodeLabel?this.newNodeLabel:"test".concat(e+1),buttons:this.nodeCategory[this.newNodeType].buttons,isError:!1,isWarning:!0,isSuccess:!1})},nodeClick:function(e){console.log("node click",e)},nodeDelete:function(e){console.log("node delete",e)},linkBreak:function(e){console.log("link break",e)},linkAdded:function(e){console.log("new link added:",e)},onCreateFormSubmit:function(e){e.preventDefault(),this.addNode(),this.newNodeType=null,this.newNodeLabel="",this.$refs.createModal.hide()},onCreateFormReset:function(e){e.preventDefault(),this.newNodeType=null,this.newNodeLabel="",this.$refs.createModal.hide()}}},z=A,U=(n("5c0b"),Object(O["a"])(z,b,y,!1,null,null,null));U.options.__file="App.vue";var J=U.exports;s["a"].config.productionTip=!1,s["a"].use(a["a"]),s["a"].use(r["a"]),s["a"].use(c["a"]),s["a"].use(l["a"]),s["a"].use(u["a"]),s["a"].use(d["a"]),s["a"].use(h["a"]),s["a"].use(f["a"]),s["a"].use(m["a"]),s["a"].use(p["a"]),s["a"].use(g["a"]),s["a"].use(v["a"]),s["a"].use(o.a),new s["a"]({render:function(e){return e(J)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var s=n("2856"),i=n.n(s);i.a},7250:function(e,t,n){},"7b86":function(e,t,n){"use strict";var s=n("7250"),i=n.n(s);i.a},c3db:function(e,t,n){"use strict";var s=n("47fe"),i=n.n(s);i.a},d988:function(e,t,n){}});
//# sourceMappingURL=app.f728ce12.js.map